#{extends '/template_page.html' /}
#{set title:'Debug' /}

<script type="text/javascript">
  
var send = function () {
  var val = document.getElementById('data-box').value

  var xmlhttp = new XMLHttpRequest ();
  xmlhttp.open("POST","/service/update", true);
  xmlhttp.send(val);
  xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
      document.getElementById('req-log').innerHTML = xmlhttp.responseText;
    }
  }
}

window.onload = function () {
  document.getElementById('data-post').onclick = send
}

</script>
  
<h3>Query: </h3>
<form>
  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <label for="exampleInputEmail1">Hostname:</label>
        <input type="url" class="form-control" id="exampleInputEmail1" placeholder="Hostname">
      </div>
    </div>
    <div class="col-md-5">
      <div class="form-group">
        <label for="exampleInputEmail1">Url:</label>
        <input type="url" class="form-control" id="exampleInputEmail1" placeholder="Url">
      </div>
    </div>
    <div class="col-md-3">
      <div style="width:90px; float:left; display:inline-block; border:0px solid black">
        <input type="radio" name="httpverb" checked="true">
        <label for="exampleInputEmail1">GET</label>
      </div>
      <div style="width:90px; float:left; display:inline-block; border:0px solid black">
        <input type="radio" name="httpverb" id="exampleInputEmail1" >
        <label for="exampleInputEmail1">POST</label>
      </div>
      <div style="width:90px; float:left; display:inline-block; border:0px solid black">
        <input type="radio" name="httpverb"  id="exampleInputEmail1" >
        <label for="exampleInputEmail1">PUT</label>
      </div>
      <div style="width:90px; float:left; display:inline-block; border:0px solid black">
        <input type="radio" name="httpverb" id="exampleInputEmail1" >
        <label for="exampleInputEmail1">DELETE</label>
      </div>
    </div>
    <div class="col-md-12">
      <div class="form-group">
        <label for="exampleInputEmail1">Body:</label>
        <textarea id="data-box" style="display:block; width:100%; min-heigth:100%; max-height:100%"></textarea>
      </div>
    </div>
    <div class="col-md-12">
      <div class="form-group">
        <a id="data-post" class="btn btn-primary">POST</a>
      </div>
    </div>
  </div>
</form>

<h3>Response: </h3>
<div class="req-log"></div>
